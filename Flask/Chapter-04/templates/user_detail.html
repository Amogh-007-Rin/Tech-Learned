{% extends "base.html" %}

{% block title %}User Details{% endblock %}

{% block content %}
<div class="row">
    <div class="col-lg-8">
        <!-- User Details Card -->
        <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h4 class="mb-0">User Details</h4>
                <a href="{{ url_for('users_list') }}" class="btn btn-outline-secondary btn-sm">
                    ← Back to Users
                </a>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h5>Personal Information</h5>
                        <table class="table table-borderless">
                            <tr>
                                <td><strong>Name:</strong></td>
                                <td>{{ user.name }}</td>
                            </tr>
                            <tr>
                                <td><strong>Email:</strong></td>
                                <td>
                                    <a href="mailto:{{ user.email }}" class="text-decoration-none">
                                        {{ user.email }}
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>Age:</strong></td>
                                <td>
                                    <span class="badge bg-info">{{ user.age }} years old</span>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>City:</strong></td>
                                <td>{{ user.city }}</td>
                            </tr>
                        </table>
                    </div>
                    <div class="col-md-6">
                        <h5>Profile Summary</h5>
                        <div class="card bg-light">
                            <div class="card-body">
                                <p class="mb-2">
                                    <strong>Age Category:</strong>
                                    {% if user.age < 25 %}
                                        <span class="badge bg-success">Young Adult</span>
                                    {% elif user.age < 35 %}
                                        <span class="badge bg-primary">Adult</span>
                                    {% else %}
                                        <span class="badge bg-warning">Senior</span>
                                    {% endif %}
                                </p>
                                <p class="mb-2">
                                    <strong>Name Length:</strong> {{ user.name|length }} characters
                                </p>
                                <p class="mb-0">
                                    <strong>Email Domain:</strong> {{ user.email.split('@')[1] }}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Template Filters Demo -->
        <div class="card mt-4">
            <div class="card-header">
                <h5 class="mb-0">Template Filters Applied</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6>Text Filters:</h6>
                        <ul class="list-unstyled">
                            <li><strong>Original:</strong> {{ user.name }}</li>
                            <li><strong>Upper:</strong> {{ user.name|upper }}</li>
                            <li><strong>Lower:</strong> {{ user.name|lower }}</li>
                            <li><strong>Title:</strong> {{ user.name|title }}</li>
                            <li><strong>Length:</strong> {{ user.name|length }} characters</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h6>String Manipulation:</h6>
                        <ul class="list-unstyled">
                            <li><strong>First Name:</strong> {{ user.name.split()[0] }}</li>
                            <li><strong>Last Name:</strong> {{ user.name.split()[-1] }}</li>
                            <li><strong>Initials:</strong> {{ user.name.split()[0][0] }}{{ user.name.split()[-1][0] }}</li>
                            <li><strong>Email Username:</strong> {{ user.email.split('@')[0] }}</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-lg-4">
        <!-- User Actions -->
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">Actions</h5>
            </div>
            <div class="card-body">
                <div class="d-grid gap-2">
                    <button class="btn btn-primary" onclick="alert('Email sent to {{ user.email }}')">
                        Send Email
                    </button>
                    <button class="btn btn-outline-secondary" onclick="alert('Profile updated')">
                        Edit Profile
                    </button>
                    <button class="btn btn-outline-danger" onclick="alert('User deleted')">
                        Delete User
                    </button>
                </div>
            </div>
        </div>

        <!-- Template Conditionals Demo -->
        <div class="card mt-3">
            <div class="card-header">
                <h5 class="mb-0">Conditional Logic</h5>
            </div>
            <div class="card-body">
                <h6>Age-based Messages:</h6>
                {% if user.age >= 30 %}
                    <div class="alert alert-info">
                        <strong>Mature User:</strong> This user has significant life experience.
                    </div>
                {% elif user.age >= 25 %}
                    <div class="alert alert-success">
                        <strong>Young Professional:</strong> This user is in their prime working years.
                    </div>
                {% else %}
                    <div class="alert alert-warning">
                        <strong>Young Adult:</strong> This user is just starting their career.
                    </div>
                {% endif %}

                <h6 class="mt-3">City-based Status:</h6>
                {% if user.city in ['New York', 'Los Angeles', 'Chicago'] %}
                    <span class="badge bg-primary">Major City</span>
                {% else %}
                    <span class="badge bg-secondary">Other City</span>
                {% endif %}
            </div>
        </div>

        <!-- Template Variables -->
        <div class="card mt-3">
            <div class="card-header">
                <h5 class="mb-0">Template Variables</h5>
            </div>
            <div class="card-body">
                <small class="text-muted">
                    <strong>Available Variables:</strong><br>
                    • user (current user object)<br>
                    • title (page title)<br>
                    • site_name (global variable)<br>
                    • current_year (global variable)<br>
                    • app_version (global variable)
                </small>
            </div>
        </div>
    </div>
</div>
{% endblock %}
